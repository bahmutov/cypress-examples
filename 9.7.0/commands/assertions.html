<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Assertions | Cypress examples (v9.7.0)</title>
    <meta name="description" content="Static site with Cypress examples tested right from the Markdown sources">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <style>.action-focus.focus { border: 5px solid orange; } .hidden { display: none !important; }</style>
  <script src="https://code.jquery.com/jquery-3.5.0.min.js" integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    
    <link rel="preload" href="/cypress-examples/9.7.0/assets/css/0.styles.99096dea.css" as="style"><link rel="preload" href="/cypress-examples/9.7.0/assets/js/app.955a04ec.js" as="script"><link rel="preload" href="/cypress-examples/9.7.0/assets/js/3.be46aa5a.js" as="script"><link rel="preload" href="/cypress-examples/9.7.0/assets/js/16.9830c270.js" as="script"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/10.b1da56a1.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/100.c59024d5.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/101.34d26a55.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/102.68b69659.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/103.07c5adb3.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/104.db94f18c.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/105.d80bfa18.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/106.5cf97ed7.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/107.bee26f67.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/108.1cf4364a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/109.52503501.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/11.5eec52ee.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/110.f3270bb7.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/111.83d21d7b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/112.8c784a47.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/113.09ad927b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/114.60ceec49.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/115.011bf4d6.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/116.9f31c4ba.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/117.4c770342.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/118.69f94208.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/119.40cf94ad.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/12.fd245376.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/120.da8c78c6.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/121.8d1e5505.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/122.c72e9341.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/123.5e7b5bba.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/124.fece3ad7.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/125.f1dea273.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/126.fa4f8dfa.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/127.264ac1d8.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/128.e20defb8.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/129.896e209c.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/13.22fe2835.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/130.fd4ea2ca.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/131.4e11995c.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/132.18c45e3a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/133.8bd32fb6.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/134.54c82162.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/135.b0ead99a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/136.29d8e145.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/137.1ff3fabc.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/138.3a155553.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/139.8a2cc9d5.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/14.5d799ced.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/15.05405217.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/17.61d8802d.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/18.4a198296.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/19.f895f879.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/20.fb9562ad.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/21.235563a4.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/22.03c5a8c1.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/23.7e5c5488.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/24.8af9250b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/25.f753da2b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/26.4a0bb3f6.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/27.c44c148d.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/28.fa380a1a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/29.f40e7f20.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/30.b3da4007.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/31.93ffaeb2.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/32.47414c5a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/33.244829ae.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/34.c51b4388.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/35.de419443.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/36.372b854a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/37.67f0f0d5.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/38.40b8e21c.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/39.7d6b5bff.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/4.c45a5562.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/40.da6a810c.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/41.73d58f01.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/42.7da87abe.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/43.fdb47996.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/44.73d10891.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/45.57630c98.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/46.283472db.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/47.39c98c82.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/48.f6295046.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/49.2d3f977f.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/5.ba9106ed.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/50.b2e796da.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/51.630ff930.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/52.44a646a8.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/53.1bccaaed.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/54.464d989d.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/55.d7652fd7.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/56.f2198e1a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/57.537fec0e.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/58.7b02d578.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/59.35acf65c.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/6.860bd718.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/60.87e99cef.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/61.83eb394f.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/62.7dfc6b1a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/63.47743169.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/64.1d80aa53.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/65.6b16616b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/66.be5fb79a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/67.70bd8de3.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/68.d41e9bab.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/69.98fd3635.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/7.6a136641.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/70.927e4cbd.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/71.bb7198d6.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/72.a7f994a2.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/73.d6a4e386.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/74.616e6862.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/75.fb1ff100.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/76.cdab525f.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/77.29b911a9.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/78.a01f7b6b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/79.bdb8f4b3.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/8.4b5fe252.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/80.63b4f719.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/81.7656a7e6.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/82.2462009b.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/83.6f9945f7.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/84.b5b6463d.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/85.448b4bcc.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/86.7bf5ee8f.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/87.5dd41eaf.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/88.454e346f.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/89.f9b6ce73.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/9.987a9c18.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/90.63a6a9cf.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/91.5e4dd637.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/92.5fe2538a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/93.5ee952da.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/94.dd3b34a8.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/95.9148be4f.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/96.a7db5c5a.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/97.47bd6a22.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/98.52a2f920.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/99.ce13b854.js"><link rel="prefetch" href="/cypress-examples/9.7.0/assets/js/vendors~docsearch.83d4d6ef.js">
    <link rel="stylesheet" href="/cypress-examples/9.7.0/assets/css/0.styles.99096dea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cypress-examples/9.7.0/" class="home-link router-link-active"><!----> <span class="site-name">Cypress examples (v9.7.0)</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Commands" class="dropdown-title"><span class="title">Commands</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/querying/" class="nav-link">
  Querying
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/traversal/" class="nav-link">
  Traversal
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/actions/" class="nav-link">
  Actions
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/window/" class="nav-link">
  Window
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/viewport/" class="nav-link">
  Viewport
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/location/" class="nav-link">
  Location
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/navigation/" class="nav-link">
  Navigation
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/assertions/" class="nav-link">
  Assertions
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/misc/" class="nav-link">
  Misc
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/connectors/" class="nav-link">
  Connectors
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/aliasing/" class="nav-link">
  Aliasing
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/waiting/" class="nav-link">
  Waiting
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/network-requests/" class="nav-link">
  Network Requests
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/files/" class="nav-link">
  Files
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/local-storage/" class="nav-link">
  Local Storage
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/cookies/" class="nav-link">
  Cookies
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/spies-stubs-clocks/" class="nav-link">
  Spies, Stubs &amp; Clocks
</a></li></ul></div></div><div class="nav-item"><a href="/cypress-examples/9.7.0/utilities/" class="nav-link">
  Utilities
</a></div><div class="nav-item"><a href="/cypress-examples/9.7.0/cypress-api/" class="nav-link">
  Cypress API
</a></div> <a href="https://github.com/bahmutov/cypress-examples" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Commands" class="dropdown-title"><span class="title">Commands</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/querying/" class="nav-link">
  Querying
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/traversal/" class="nav-link">
  Traversal
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/actions/" class="nav-link">
  Actions
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/window/" class="nav-link">
  Window
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/viewport/" class="nav-link">
  Viewport
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/location/" class="nav-link">
  Location
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/navigation/" class="nav-link">
  Navigation
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/assertions/" class="nav-link">
  Assertions
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/misc/" class="nav-link">
  Misc
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/connectors/" class="nav-link">
  Connectors
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/aliasing/" class="nav-link">
  Aliasing
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/waiting/" class="nav-link">
  Waiting
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/network-requests/" class="nav-link">
  Network Requests
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/files/" class="nav-link">
  Files
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/local-storage/" class="nav-link">
  Local Storage
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/cookies/" class="nav-link">
  Cookies
</a></li><li class="dropdown-item"><!----> <a href="/cypress-examples/9.7.0/commands/spies-stubs-clocks/" class="nav-link">
  Spies, Stubs &amp; Clocks
</a></li></ul></div></div><div class="nav-item"><a href="/cypress-examples/9.7.0/utilities/" class="nav-link">
  Utilities
</a></div><div class="nav-item"><a href="/cypress-examples/9.7.0/cypress-api/" class="nav-link">
  Cypress API
</a></div> <a href="https://github.com/bahmutov/cypress-examples" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Assertions</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cypress-examples/9.7.0/commands/assertions.html#implicit-assertions" class="sidebar-link">Implicit Assertions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#should" class="sidebar-link">.should()</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#and" class="sidebar-link">.and()</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#subject" class="sidebar-link">Subject</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#explicit-assertions" class="sidebar-link">Explicit Assertions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#expect" class="sidebar-link">expect</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#expect-a-nan" class="sidebar-link">expect a NaN</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#assert" class="sidebar-link">assert</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#should-with-callback-function" class="sidebar-link">Should with callback function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#partial-class-string-match-example" class="sidebar-link">Partial class string match example</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#throwing-own-errors" class="sidebar-link">Throwing own errors</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#dynamic-text-example" class="sidebar-link">Dynamic text example</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#retrying-should-callback" class="sidebar-link">Retrying should callback</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#should-vs-then" class="sidebar-link">Should vs Then</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#existence" class="sidebar-link">Existence</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#multiple-assertions" class="sidebar-link">Multiple assertions</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#input-elements" class="sidebar-link">Input elements</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#checkboxes" class="sidebar-link">Checkboxes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#non-input-elements" class="sidebar-link">Non-input elements</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#html-element-tag" class="sidebar-link">HTML element tag</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#text-assertions" class="sidebar-link">Text assertions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#two-elements" class="sidebar-link">Two elements</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#match-a-regular-expression" class="sidebar-link">Match a regular expression</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#contain-text" class="sidebar-link">contain.text</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#spaces" class="sidebar-link">Spaces</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#newlines" class="sidebar-link">Newlines</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#html-entities" class="sidebar-link">HTML entities</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#visible-element-with-text" class="sidebar-link">Visible element with text</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#partial-text-match" class="sidebar-link">Partial text match</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#have-text-vs-contain" class="sidebar-link">have.text vs contain</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#text-matching-the-regular-expression" class="sidebar-link">Text matching the regular expression</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#match-numbers-using-a-regular-expression" class="sidebar-link">Match numbers using a regular expression</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#converting-text" class="sidebar-link">Converting text</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#or-match-using-regular-expression" class="sidebar-link">OR match using regular expression</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#text-should-not-present" class="sidebar-link">Text should not present</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#visibility-of-multiple-elements" class="sidebar-link">Visibility of multiple elements</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#elements-becoming-invisible" class="sidebar-link">Elements becoming invisible</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#placeholder-attribute" class="sidebar-link">Placeholder attribute</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#disabled-elements" class="sidebar-link">Disabled elements</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#data-attributes" class="sidebar-link">Data attributes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#array-assertions" class="sidebar-link">Array assertions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#confirm-it-is-an-array" class="sidebar-link">Confirm it is an array</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#confirm-array-has-a-given-value" class="sidebar-link">Confirm array has a given value</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#confirm-items-in-an-array" class="sidebar-link">Confirm items in an array</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#comparing-arrays" class="sidebar-link">Comparing arrays</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#objects" class="sidebar-link">Objects</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#checking-a-property" class="sidebar-link">Checking a property</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#multiple-properties-2" class="sidebar-link">Multiple properties</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#partial-match" class="sidebar-link">Partial match</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#multiple-variants" class="sidebar-link">Multiple variants</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#has-a-method" class="sidebar-link">Has a method</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#approximate-value-using-closeto" class="sidebar-link">Approximate value using closeTo</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#adding-assertions" class="sidebar-link">Adding assertions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#multiple-attributes" class="sidebar-link">Multiple attributes</a></li><li class="sidebar-sub-header"><a href="/cypress-examples/9.7.0/commands/assertions.html#custom-chai-assertion" class="sidebar-link">Custom Chai assertion</a></li></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#check-against-undefined" class="sidebar-link">Check against undefined</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#assertion-message" class="sidebar-link">Assertion message</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cypress-examples/9.7.0/commands/assertions.html#use-the-strongest-assertion" class="sidebar-link">Use the strongest assertion</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="assertions"><a href="#assertions" class="header-anchor">#</a> Assertions</h1> <p>Examples of asserting the state or behavior of your application in Cypress, for a full reference of commands, go to <a href="https://on.cypress.io/api" target="_blank" rel="noopener noreferrer">docs.cypress.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="implicit-assertions"><a href="#implicit-assertions" class="header-anchor">#</a> Implicit Assertions</h2> <h3 id="should"><a href="#should" class="header-anchor">#</a> <a href="https://on.cypress.io/should" target="_blank" rel="noopener noreferrer">.should()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>To make an assertion about the current subject, use the <code>.should()</code> command.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>table table-bordered assertion-table<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>#<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Column heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Column heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><table class="table table-bordered assertion-table"><thead><tr><th>#</th> <th>Column heading</th> <th>Column heading</th></tr></thead> <tbody><tr><th scope="row">1</th> <td>Column content</td> <td>Column content</td></tr> <tr><th scope="row">2</th> <td>Column content</td> <td>Column content</td></tr> <tr class="success"><th scope="row">3</th> <td>Column content</td> <td>Column content</td></tr></tbody></table></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.assertion-table'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'tbody tr:last'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.class'</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// checking the text of the  element in various ways</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'Column content'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'Column content'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.html'</span><span class="token punctuation">,</span> <span class="token string">'Column content'</span><span class="token punctuation">)</span>
  <span class="token comment">// chai-jquery uses &quot;is()&quot; to check if element matches selector</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token string">'td'</span><span class="token punctuation">)</span>
  <span class="token comment">// to match text content against a regular expression</span>
  <span class="token comment">// first need to invoke jQuery method text()</span>
  <span class="token comment">// and then match using regular expression</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/column content/i</span><span class="token punctuation">)</span>

<span class="token comment">// a better way to check element's text content against a regular expression</span>
<span class="token comment">// is to use &quot;cy.contains&quot;</span>
<span class="token comment">// https://on.cypress.io/contains</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.assertion-table'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'tbody tr:last'</span><span class="token punctuation">)</span>
  <span class="token comment">// finds first  element with text content matching regular expression</span>
  <span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">,</span> <span class="token regex">/column content/i</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
</code></pre></div><p>Typically the assertions have 1, 2, or 3 arguments.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1 argument - the assertion name only like &quot;be.visible&quot;</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'th'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
<span class="token comment">// 2 arguments - assertion plus its argument</span>
<span class="token comment">// for example, the yielded element have the prop &quot;scope&quot; with any value</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'th'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'scope'</span><span class="token punctuation">)</span>
<span class="token comment">// 3 arguments - assertion, plus 2 arguments</span>
<span class="token comment">// for example, the yielded element have the prop &quot;scope&quot; with value &quot;row&quot;</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'th'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'scope'</span><span class="token punctuation">,</span> <span class="token string">'row'</span><span class="token punctuation">)</span>
</code></pre></div><p>The number of arguments an assertion allows depends on the assertion itself.</p> <p>For more examples of using the <code>match</code> assertion against jQuery elements and text, see the recipe <a href="/cypress-examples/9.7.0/recipes/match-assertion.html">Match Assertion</a>.</p> <p>Note: find even more examples of matching element's text content in this <a href="https://on.cypress.io/using-cypress-faq#How-do-I-get-an-element%E2%80%99s-text-contents" target="_blank" rel="noopener noreferrer">FAQ answer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="and"><a href="#and" class="header-anchor">#</a> <a href="https://on.cypress.io/and" target="_blank" rel="noopener noreferrer">.and()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>To chain multiple assertions together, use the <code>.and()</code> command.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>assertions-link active<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://on.cypress.io<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>Cypress Docs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
<span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><a href="https://on.cypress.io" target="_blank" class="assertions-link active">Cypress Docs</a></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// https://on.cypress.io/and</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.assertions-link'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.class'</span><span class="token punctuation">,</span> <span class="token string">'active'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'href'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'include'</span><span class="token punctuation">,</span> <span class="token string">'cypress.io'</span><span class="token punctuation">)</span>
</code></pre></div> <p>Note that all assertions attached to the same command must pass at the same time for the command to succeed.</p> <h3 id="subject"><a href="#subject" class="header-anchor">#</a> Subject</h3> <p>The implicit assertions keep the original subject and pass it to the next command.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> employee <span class="token operator">=</span> <span class="token punctuation">{</span>
  person<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      first<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
      last<span class="token operator">:</span> <span class="token string">'Smith'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.key'</span><span class="token punctuation">,</span> <span class="token string">'person'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// we are still working with the entire object</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <p>Except for several assertions that DO change the subject:</p> <ul><li><code>have.property</code> for objects</li> <li><code>have.attr</code> with 1 argument for DOM elements</li> <li><code>have.prop</code> with 1 argument for DOM elements</li></ul> <p>as the next tests demonstrate</p> <h4 id="have-property-assertion"><a href="#have-property-assertion" class="header-anchor">#</a> <code>have.property</code> assertion</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> employee <span class="token operator">=</span> <span class="token punctuation">{</span>
  person<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      first<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
      last<span class="token operator">:</span> <span class="token string">'Smith'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.property'</span><span class="token punctuation">,</span> <span class="token string">'person'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// the current subject has been changed to employee.person</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span>person<span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Tip: you can use another implicit assertion to check the yielded property</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span> <span class="token comment">// full object</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.property'</span><span class="token punctuation">,</span> <span class="token string">'person'</span><span class="token punctuation">)</span> <span class="token comment">// employee.person</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span>person<span class="token punctuation">)</span> <span class="token comment">// still employee.person</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.key'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span> <span class="token comment">// still employee.person</span>
  <span class="token comment">// still employee.person because have.key does not change the subject</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span>person<span class="token punctuation">)</span>
</code></pre></div> <h4 id="multiple-properties"><a href="#multiple-properties" class="header-anchor">#</a> Multiple properties</h4> <p>If you want to check multiple properties at once we can use <code>deep.include</code> assertion. Note we cannot use <code>deep.equals</code> in this case, since the object has extra properties we are not interested in.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstName<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
  lastName<span class="token operator">:</span> <span class="token string">'Smith'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'deep.include'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  firstName<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
  lastName<span class="token operator">:</span> <span class="token string">'Smith'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h4 id="have-prop-assertion"><a href="#have-prop-assertion" class="header-anchor">#</a> <code>have.prop</code> assertion</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="example"><input id="my-age" value="20"></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-age'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the original element</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'my-age'</span><span class="token punctuation">)</span>
<span class="token comment">// if we don't know the exact value, we can</span>
<span class="token comment">// yield its value using the &quot;have.prop&quot; assertion</span>
<span class="token comment">// and convert it to a number before checking</span>
<span class="token comment">// if the value falls in the given range</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-age'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the value prop</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>parseInt<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.within'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
</code></pre></div> <p><strong>Note:</strong> the assertion <code>have.prop &lt;name&gt;</code> yields the value of the prop &quot;name&quot;. Assertion <code>have.prop &lt;name&gt; &lt;value&gt;</code> yields the original element.</p> <h4 id="input-should-have-text-value-matching-a-regular-expression"><a href="#input-should-have-text-value-matching-a-regular-expression" class="header-anchor">#</a> Input should have text value matching a regular expression</h4> <p>You can use the <code>have.prop</code> assertion to grab the text value and yield it to the next assertion.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>user-ssn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>123-45-6789<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="example"><input id="user-ssn" value="123-45-6789"></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// it looks best if we know the exact value to check</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#user-ssn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.value'</span><span class="token punctuation">,</span> <span class="token string">'123-45-6789'</span><span class="token punctuation">)</span>
</code></pre></div><p>If we don't know the exact value to expect, we can grab the <code>value</code> property and check if it follows a regular expression.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#user-ssn'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the string value</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/^\d\d\d-\d\d-\d\d\d\d$/</span><span class="token punctuation">)</span>
</code></pre></div> <h4 id="have-attr-assertion"><a href="#have-attr-assertion" class="header-anchor">#</a> <code>have.attr</code> assertion</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">data-cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>subject-example<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span> <span class="token property">background-color</span><span class="token punctuation">:</span>green<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  Test div
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div data-cy="subject-example" style="color:orange;background-color:green;">
  Test div
</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-cy=subject-example]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'style'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// x is the complete style attribute</span>
    <span class="token keyword">const</span> withoutWhiteSpace <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>withoutWhiteSpace<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>
      <span class="token string">'color:orange;background-color:green;'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// we can remove the whitespace by invoking the method</span>
<span class="token comment">// on the yielded subject</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-cy=subject-example]'</span><span class="token punctuation">)</span> <span class="token comment">// jQuery element</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'style'</span><span class="token punctuation">)</span> <span class="token comment">// string attribute</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'replace'</span><span class="token punctuation">,</span> <span class="token regex">/\s/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// string without whitespace</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token string">'color:orange;background-color:green;'</span><span class="token punctuation">)</span>
</code></pre></div> <h4 id="escape-special-characters"><a href="#escape-special-characters" class="header-anchor">#</a> Escape special characters</h4> <p>Sometimes an attribute can have a special character like <code>.</code> or <code>:</code> in it. If you are just checking the attribute name, you do not need to escape them.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>escape-attribute<span class="token punctuation">&quot;</span></span> <span class="token attr-name">attr.aria-label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Attribute example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Example
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="escape-attribute" attr.aria-label="Attribute example">
  Example
</div></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// confirm the element has the attribute</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#escape-attribute'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'have.attr'</span><span class="token punctuation">,</span>
  <span class="token string">'attr.aria-label'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token comment">// confirm the element has the attribute and that attribute</span>
<span class="token comment">// has the specific value</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#escape-attribute'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'have.attr'</span><span class="token punctuation">,</span>
  <span class="token string">'attr.aria-label'</span><span class="token punctuation">,</span>
  <span class="token string">'Attribute example'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div> <h4 id="have-attr-assertion-chain"><a href="#have-attr-assertion-chain" class="header-anchor">#</a> <code>have.attr</code> assertion chain</h4> <p>This recipe is available as a video <a href="https://youtu.be/8HaNYv5KUxE" target="_blank" rel="noopener noreferrer">Use Cypress Have.Attr Assertion<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/some/complex/link-123<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>home page<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>My link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
<span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><a id="my-link" href="/some/complex/link-123" title="home page">My link</a></div></div><p>If we want to just check presence of an attribute, we can use the &quot;have.attr&quot; assertion with the attribute name</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-link'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">)</span>
<span class="token comment">// yields the value of the attribute &quot;id&quot;</span>
</code></pre></div><p><strong>Note:</strong> the &quot;have.attr&quot; assertion with one argument changes the subject yielded to the next command or assertion, unlike most assertions. When confirming the attributes it is useful if we want to confirm something about the attribute value. For example, if we want to check if the element has the attribute and the attribute has specific length, we could chain the assertions:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// the anchor title should be at least 5 characters</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-link'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the value of the attribute &quot;title&quot;</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.a'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">its</span><span class="token punctuation">(</span><span class="token string">'length'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.greaterThan'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div><p>If we know the expected attribute value, we can add it as the third argument to the <code>should(...)</code> assertion. In that case, the original element is yielded.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-link'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'my-link'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the original DOM element</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'satisfy'</span><span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span>dom<span class="token punctuation">.</span>isElement<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'home page'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the original DOM element again</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'satisfy'</span><span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span>dom<span class="token punctuation">.</span>isElement<span class="token punctuation">)</span>
</code></pre></div><p>If we only know a part of the expected attribute, we can first assert the attribute is present, then use an assertion to match its value.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-link'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'href'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the attribute value</span>
  <span class="token comment">// check if the href attribute includes given string</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'include'</span><span class="token punctuation">,</span> <span class="token string">'link-'</span><span class="token punctuation">)</span>
<span class="token comment">// we can also use a regular expression</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#my-link'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'href'</span><span class="token punctuation">)</span>
  <span class="token comment">// yields the attribute value</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/\/link\-\d+/</span><span class="token punctuation">)</span>
</code></pre></div> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>first second<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Test div
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="first second">
  Test div
</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.first'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'class'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// x is the class prop</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">'first second'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h4 id="should-be-a-nan"><a href="#should-be-a-nan" class="header-anchor">#</a> should be a NaN</h4> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.a.NaN'</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.be.a.NaN'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="explicit-assertions"><a href="#explicit-assertions" class="header-anchor">#</a> Explicit Assertions</h2> <h3 id="expect"><a href="#expect" class="header-anchor">#</a> expect</h3> <p>To make a BDD assertion about a specified subject, use <code>expect</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'it is true'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token boolean">true</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span>
<span class="token function">expect</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">'object reference'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token comment">// &quot;deep.equal&quot; assertion compares the properties inside the object</span>
<span class="token function">expect</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">'deep equality'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// matching text using regular expression</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'FooBar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/bar$/i</span><span class="token punctuation">)</span>
<span class="token comment">// check if the variable is defined, is a string, and has characters</span>
<span class="token keyword">const</span> orgId <span class="token operator">=</span> <span class="token string">'4AB001C'</span>
<span class="token function">expect</span><span class="token punctuation">(</span>orgId<span class="token punctuation">,</span> <span class="token string">'org id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>and<span class="token punctuation">.</span>not<span class="token punctuation">.</span>be<span class="token punctuation">.</span>empty

<span class="token comment">// check if the response status code is successful</span>
<span class="token keyword">const</span> statusCode <span class="token operator">=</span> <span class="token number">204</span>
<span class="token function">expect</span><span class="token punctuation">(</span>statusCode<span class="token punctuation">,</span> <span class="token string">'status code'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">within</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">399</span><span class="token punctuation">)</span>

<span class="token comment">// check if a value is one of the three allowed choices</span>
<span class="token keyword">const</span> fruit <span class="token operator">=</span> <span class="token string">'Grapes'</span>
<span class="token function">expect</span><span class="token punctuation">(</span>fruit<span class="token punctuation">,</span> <span class="token string">'the fruit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token string">'Apples'</span><span class="token punctuation">,</span>
  <span class="token string">'Oranges'</span><span class="token punctuation">,</span>
  <span class="token string">'Grapes'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// generic predicate function check using the &quot;satisfy&quot; assertion</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">satisfy</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> s <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token comment">// you can use built-in Lodash predicates</span>
<span class="token function">expect</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">'NaN'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">satisfy</span><span class="token punctuation">(</span>Cypress<span class="token punctuation">.</span>_<span class="token punctuation">.</span>isNaN<span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Two'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'satisfy'</span><span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span>_<span class="token punctuation">.</span>isFinite<span class="token punctuation">)</span>
</code></pre></div> <h4 id="string-assertion"><a href="#string-assertion" class="header-anchor">#</a> string assertion</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>substrings<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Column 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><table id="substrings"><tbody><tr><td>Column 1</td></tr></tbody></table></div></div><p>You can use the Chai assertion <code>include</code> to check if one string contains another string.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'Hello, World'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
  <span class="token comment">// &quot;contains&quot; assertion is an alias to &quot;include&quot;</span>
  <span class="token punctuation">.</span>and<span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">contain</span><span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>
</code></pre></div><p>There is also a Chai assertion <code>string</code> that also checks if a string includes another string.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// chai assertion &quot;string&quot; checks the presence of substring</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#substrings tbody tr:first td:first'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// the string &quot;s&quot; contains the substring &quot;Column&quot;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">'Column'</span><span class="token punctuation">)</span>
    <span class="token comment">// the string &quot;s&quot; does not include the substring &quot;Row&quot;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">'Row'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h4 id="compare-two-lists-of-elements"><a href="#compare-two-lists-of-elements" class="header-anchor">#</a> Compare two lists of elements</h4> <p>Let's compare the text content of two lists. We would like to assert that the second list is a subset of the first one. First, we need to get the text from each list, then compare them.</p> <p><strong>Tip:</strong> see recipe &quot;Getting Text from List of Elements&quot; to see how to iterate over the list of elements and get their text content.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Apples<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Oranges<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Melons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Grapes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>second<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Grapes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Oranges<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><ol id="first"><li>Apples</li> <li>Oranges</li> <li>Melons</li> <li>Grapes</li></ol> <ol id="second"><li>Grapes</li> <li>Oranges</li></ol></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> firstList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> secondList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// let's get the first list of strings</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#first li'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$li</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  firstList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#second li'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$li</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    secondList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// when this callback runs, both lists will be populated</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>firstList<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>include<span class="token punctuation">.</span><span class="token function">members</span><span class="token punctuation">(</span>secondList<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="expect-a-nan"><a href="#expect-a-nan" class="header-anchor">#</a> expect a NaN</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">'not a number'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token number">NaN</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token number">NaN</span>
</code></pre></div> <h3 id="assert"><a href="#assert" class="header-anchor">#</a> assert</h3> <p>To make a TDD assertion about a specified subject, use <code>assert</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

assert<span class="token punctuation">.</span><span class="token function">isObject</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">'value is object'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="should-with-callback-function"><a href="#should-with-callback-function" class="header-anchor">#</a> <a href="https://on.cypress.io/should#Function" target="_blank" rel="noopener noreferrer">Should with callback function<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>You can write your own complicated checks using <code>.should(cb)</code> function if included assertions are not enough. Pass a function to <code>should()</code> with any number of explicit assertions within it. The callback function will be retried until it passes all your explicit assertions or times out.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>assertions-p<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Some text from first p<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>More text from second p<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>And even more text from third p<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="assertions-p"><p>Some text from first p</p> <p>More text from second p</p> <p>And even more text from third p</p></div></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Pass a function to should that can have any number</span>
<span class="token comment">// of explicit assertions within it.</span>
<span class="token comment">// The &quot;.should(cb)&quot; function will be retried</span>
<span class="token comment">// automatically until it passes all your explicit assertions or times out.</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.assertions-p'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// https://on.cypress.io/$</span>
    <span class="token comment">// return an array of texts from all of the p's</span>
    <span class="token comment">// @ts-ignore TS6133 unused variable</span>
    <span class="token keyword">const</span> texts <span class="token operator">=</span> $p<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Cypress<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// jquery map returns jquery object</span>
    <span class="token comment">// and .get() convert this to simple array</span>
    <span class="token keyword">const</span> paragraphs <span class="token operator">=</span> texts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// array should have length of 3</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>paragraphs<span class="token punctuation">,</span> <span class="token string">'has 3 paragraphs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    <span class="token comment">// use second argument to expect(...) to provide clear</span>
    <span class="token comment">// message with each assertion</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>
      paragraphs<span class="token punctuation">,</span>
      <span class="token string">'has expected text in each paragraph'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'Some text from first p'</span><span class="token punctuation">,</span>
      <span class="token string">'More text from second p'</span><span class="token punctuation">,</span>
      <span class="token string">'And even more text from third p'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="partial-class-string-match-example"><a href="#partial-class-string-match-example" class="header-anchor">#</a> Partial class string match example</h3> <p>Assert that element's class includes <code>heading-</code>.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>docs-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main-abc123 heading-xyz987<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Introduction<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="docs-header"><div class="main-abc123 heading-xyz987">Introduction</div></div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.docs-header'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
  <span class="token comment">// .should(cb) callback function will be retried</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$div</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>$div<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> className <span class="token operator">=</span> $div<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>className

    <span class="token function">expect</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/heading-/</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// .then(cb) callback is not retried,</span>
  <span class="token comment">// it either passes or fails</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$div</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>$div<span class="token punctuation">,</span> <span class="token string">'text content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Introduction'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="throwing-own-errors"><a href="#throwing-own-errors" class="header-anchor">#</a> Throwing own errors</h3> <p>You can throw any error from the callback function. The callback will be retried, but the assertions will not be shown as nicely in the Command Log UI as Chai assertions.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>docs-header-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>heading-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Top content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="docs-header-example"><div class="heading-top">Top content</div></div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.docs-header-example'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$div</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>$div<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// you can throw your own errors</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Did not find 1 element'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> className <span class="token operator">=</span> $div<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>className

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>className<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/heading-/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Could not find class &quot;heading-&quot; in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="dynamic-text-example"><a href="#dynamic-text-example" class="header-anchor">#</a> Dynamic text example</h3> <p>We <a href="https://on.cypress.io/conditional-testing" target="_blank" rel="noopener noreferrer">strongly recommend that your tests are deterministic<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. But sometimes you might need to match text between two elements, and you do not know what that text should be. Save the value from the first element, then compare it from a <code>should(cb)</code> callback.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>two-elements<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Foo Bar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>second<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>foo b a r<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="two-elements"><div class="first">Foo Bar</div> <div class="second">foo b a r</div></div></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Text from the first element.
 * @type {string}
 */</span>
<span class="token keyword">let</span> text

<span class="token comment">/**
 * Normalizes passed text,
 * useful before comparing text with spaces and different capitalization.
 * @param {string} s Text to normalize
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">normalizeText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.two-elements'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.first'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$first</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// save text from the first element</span>
    text <span class="token operator">=</span> <span class="token function">normalizeText</span><span class="token punctuation">(</span>$first<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.two-elements'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.second'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$div</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// we can massage text before comparing</span>
    <span class="token keyword">const</span> secondText <span class="token operator">=</span> <span class="token function">normalizeText</span><span class="token punctuation">(</span>$div<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>secondText<span class="token punctuation">,</span> <span class="token string">'second text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="retrying-should-callback"><a href="#retrying-should-callback" class="header-anchor">#</a> Retrying should callback</h3> <p>Remember that Cypress only <a href="https://on.cypress.io/retry-ability" target="_blank" rel="noopener noreferrer">retries the very last command<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, if it allows retrying. If you need to perform additional steps before running an assertion, you can use <code>.should(callbackFn)</code> to retry multiple operations.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>random-number-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Random number: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>random-number<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'random-number'</span><span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>innerText <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="random-number-example">
  Random number: <span id="random-number"></span></div> <script>
  const el = document.getElementById('random-number')
  setTimeout(function () {
    el.innerText = Math.floor(Math.random() * 10 + 1)
  }, 1500)
</script></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#random-number'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$div</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>$div<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">gte</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>and<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">lte</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="should-vs-then"><a href="#should-vs-then" class="header-anchor">#</a> Should vs Then</h3> <p>You can write assertions inside <code>.should(callback)</code> or using the <code>.then(callback)</code> functions. The <code>.should(callback)</code> will <em>retry</em> if the assertions fail and the previous command can be retried. If an assertion inside <code>.then(callback)</code> fails, then the test fails immediately. Thus I suggest using <code>.then(cb)</code> if the previous command is never going to be retried like <code>cy.request</code> or <code>cy.wrap</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// works, but is NOT recommended</span>
<span class="token comment">// because it will retry the assertion even if the object never changes</span>
<span class="token comment">// until the command timeout passes</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Joe'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// recommended: using .then to immediately fail</span>
<span class="token comment">// if the assertion fails</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Joe'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="existence"><a href="#existence" class="header-anchor">#</a> Existence</h2> <p>In most cases, you do not need to explicitly check if the element exists - if the <code>cy.get</code>, <code>cy.contains</code>, etc. command finds an element, it exists. If you want to check that the element with a specific selector or text <em>does not</em> exist, then attach the assertion.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>animal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>fox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="animal">fox</div></div></div><div class="language-css hide extra-class"><pre class="language-css"><code><span class="token selector">.animal</span> <span class="token punctuation">{</span>
  <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// the element text is still &quot;fox&quot;,</span>
<span class="token comment">// the CSS uppercase transformation</span>
<span class="token comment">// does not change the cy.contains result</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'.animal'</span><span class="token punctuation">,</span> <span class="token string">'FOX'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.exist'</span><span class="token punctuation">)</span>
<span class="token comment">// find the element correctly</span>
<span class="token comment">// and use the built-in existence assertion</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'.animal'</span><span class="token punctuation">,</span> <span class="token string">'fox'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="multiple-assertions"><a href="#multiple-assertions" class="header-anchor">#</a> Multiple assertions</h2> <p>If you attach multiple assertions to the same command, all assertions must pass at once. For example, here is a test that shows how to correctly check the disappearing element.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Loading ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>load-something<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Load<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'load-something'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> loadingElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'loading'</span><span class="token punctuation">)</span>
      <span class="token comment">// first show the loading element</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        loadingElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>
      <span class="token comment">// then hide the loading element</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        loadingElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="loading" style="display:none;">Loading ...</div> <button id="load-something">Load</button> <script>
  document
    .getElementById('load-something')
    .addEventListener('click', function () {
      const loadingElement = document.getElementById('loading')
      // first show the loading element
      setTimeout(function showLoading() {
        loadingElement.style.display = 'block'
      }, 1500)
      // then hide the loading element
      setTimeout(function hideLoading() {
        loadingElement.style.display = 'none'
      }, 2500)
    })
</script></div></div><p>The command below fails because the element cannot be visible AND invisible at the same time:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  DOES NOT WORK</span>
<span class="token comment">// cy.get('#load-something').click()</span>
<span class="token comment">// cy.get('#loading').should('be.visible').and('not.be.visible')</span>
</code></pre></div><p>Instead split the assertions to have separate command to re-query the element and pass one by one The first command asserts the loading element is visible, the second command gets the element again and asserts the element is invisible:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  THE CORRECT WAY</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#load-something'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.be.visible'</span><span class="token punctuation">)</span>
</code></pre></div><p>It is ok to add multiple assertions that can be true at the same time:</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'exist'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'Loading ...'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="input-elements"><a href="#input-elements" class="header-anchor">#</a> Input elements</h2> <p>When using HTML input elements, use <code>have.value</code> assertion.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>rent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[0-9]+\.*[0-9]*<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>e.g 000.00<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">required</span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="example"><input id="rent" type="text" pattern="[0-9]+\.*[0-9]*" placeholder="e.g 000.00" required="required"></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#rent'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'630.00'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.value'</span><span class="token punctuation">,</span> <span class="token string">'630.00'</span><span class="token punctuation">)</span>
</code></pre></div> <p>Even if you have a numeric input, its value is still a string.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="example"><input id="count" type="number" value="12" required="required"></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#count'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.value'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">)</span>
<span class="token comment">// if you want to convert the value to a number</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#count'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'val'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token comment">// a good practice is to have a single &quot;should&quot;</span>
<span class="token comment">// to make sure the retry-ability works</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#count'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>$el<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token string">'count'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="checkboxes"><a href="#checkboxes" class="header-anchor">#</a> Checkboxes</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkboxes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bike<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bike<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>I have a bike<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>I have a car<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><ul id="checkboxes"><li><input type="checkbox" name="bike" checked="checked"> <label for="bike">I have a bike</label></li> <li><input type="checkbox" name="car" disabled="disabled"> <label for="car">I have a car</label></li></ul></div></div><div class="language-css hide extra-class"><pre class="language-css"><code><span class="token selector">li</span> <span class="token punctuation">{</span>
  <span class="token property">list-style-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[name=bike]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.checked'</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[name=car]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.be.checked'</span><span class="token punctuation">)</span>
  <span class="token comment">// we can also confirm this input checkbox is disabled</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'be.disabled'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="non-input-elements"><a href="#non-input-elements" class="header-anchor">#</a> Non-input elements</h2> <p>With non-input HTML elements, you can use the <code>contain</code> assertion.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A brown fox ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><p id="text-example">A brown fox ...</p></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#text-example'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'brown fox'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="html-element-tag"><a href="#html-element-tag" class="header-anchor">#</a> HTML element tag</h2> <p>To confirm the HTML element's tag name, use <code>have.prop</code> assertion with property <code>nodeName</code>. Remember that node names are all capitalized like <code>DIV</code>, <code>P</code>, etc.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>marquee</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tag-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A brown fox ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>marquee</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><marquee id="tag-example">A brown fox ...</marquee></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#tag-example'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.prop'</span><span class="token punctuation">,</span> <span class="token string">'nodeName'</span><span class="token punctuation">,</span> <span class="token string">'MARQUEE'</span><span class="token punctuation">)</span>
</code></pre></div><p>You can also use <code>match</code> assertion with HTML element, which invokes jQuery <a href="https://api.jquery.com/is/" target="_blank" rel="noopener noreferrer">is()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#tag-example'</span><span class="token punctuation">)</span>
  <span class="token comment">// let's see if different selectors match the element</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token string">'marquee'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token string">'#tag-example'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token string">'marquee#tag-example'</span><span class="token punctuation">)</span>
  <span class="token comment">// you can even pass your own predicate callback function</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span> el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// return a boolean to pass the &quot;match&quot; assertion</span>
    <span class="token keyword">return</span> el<span class="token punctuation">.</span>innerText<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'fox'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="text-assertions"><a href="#text-assertions" class="header-anchor">#</a> Text assertions</h2> <h3 id="two-elements"><a href="#two-elements" class="header-anchor">#</a> Two elements</h3> <p>Let's say we want to confirm that the text is the same in two elements A and B. We don't know the text, so we need to get it from one of the elements.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>A<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Brown fox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>B<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Brown fox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div class="A">Brown fox</div> <div class="B">Brown fox</div></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// cy.get yields a jQuery object</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.A'</span><span class="token punctuation">)</span>
  <span class="token comment">// get the text from jQuery object</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token comment">// to use the yielded text</span>
  <span class="token comment">// use the cy.then command</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'.B'</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="match-a-regular-expression"><a href="#match-a-regular-expression" class="header-anchor">#</a> Match a regular expression</h3> <p>To confirm an element has text matching a regular expression, grab its text and use the Chai <a href="https://www.chaijs.com/api/bdd/#method_match" target="_blank" rel="noopener noreferrer">match<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> assertion. For example, let's confirm the button shows one of the arithmetic operations <code>+</code>, <code>-</code>, <code>/</code>, or <code>*</code>:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>math-op<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><button id="math-op">+</button></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#math-op'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/[+-/*]/</span><span class="token punctuation">)</span>
  <span class="token comment">// if we get the text from the element and know the exact variants</span>
  <span class="token operator">/</span><span class="token operator">/</span> we can use <span class="token string">&quot;oneOf&quot;</span> assertion
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>'be<span class="token punctuation">.</span>oneOf'<span class="token punctuation">,</span> <span class="token punctuation">[</span>'<span class="token operator">+</span>'<span class="token punctuation">,</span> '<span class="token operator">-</span>'<span class="token punctuation">,</span> '<span class="token operator">/</span>'<span class="token punctuation">,</span> '<span class="token operator">*</span>'<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">/</span><span class="token operator">/</span> alternative<span class="token operator">:</span> use cy<span class="token punctuation">.</span>contains command <span class="token keyword">for</span> more robust matching
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>'#math<span class="token operator">-</span>op'<span class="token punctuation">,</span> <span class="token regex">/[+-/*]/</span><span class="token punctuation">)</span>
</code></pre></div><p>You can use jQuery <code>match</code> assertion that maps to using jQuery <a href="https://api.jquery.com/is/" target="_blank" rel="noopener noreferrer">is()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> function.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#math-op'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span> el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    el<span class="token punctuation">.</span>innerText<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    el<span class="token punctuation">.</span>innerText<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    el<span class="token punctuation">.</span>innerText<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    el<span class="token punctuation">.</span>innerText<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="contain-text"><a href="#contain-text" class="header-anchor">#</a> contain.text</h3> <p>You can check if the merged text from the found elements includes a given string using <code>contain.text</code> assertion.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>labels<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>34<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="labels"><div class="label">34</div> <div class="label">loading...</div></div></div></div><p>There are two labels, thus the text it checks is &quot;34loading..&quot;</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#labels .label'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain.text'</span><span class="token punctuation">,</span> <span class="token string">'34loading'</span><span class="token punctuation">)</span>
</code></pre></div><p>It will find each string separately.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#labels .label'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain.text'</span><span class="token punctuation">,</span> <span class="token string">'34'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'contain.text'</span><span class="token punctuation">,</span> <span class="token string">'load'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Tip:</strong> if you want to consider just the first element, you can use <code>cy.contains</code>. With this command, you can use a regular expression.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#labels .label'</span><span class="token punctuation">,</span> <span class="token regex">/^\d+$/</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="spaces"><a href="#spaces" class="header-anchor">#</a> Spaces</h3> <p>Before comparing an element text with a number, trim the spaces (if any), and convert a string into a number.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Notice the newlines and spaces around the number --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>employee-number<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  1209
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="employee-number">
  1209
</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#employee-number'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'trim'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token number">1209</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="newlines"><a href="#newlines" class="header-anchor">#</a> Newlines</h3> <p>If the text contains newline characters, you can trim it before asserting the text contents or use <a href="https://on.cypress.io/contains" target="_blank" rel="noopener noreferrer">cy.contains<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <code>include.text</code> assertion.</p> <p>To better show how assertions wait for the application to be ready, this element adds &quot;there!&quot; after a delay.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>newlines-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  hello
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'newlines-example'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">+=</span>
      <span class="token string">', there!\n'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="newlines-example">
  hello
</div> <script>
  setTimeout(function () {
    document.getElementById('newlines-example').innerText +=
      ', there!\n'
  }, 1000)
</script></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#newlines-example'</span><span class="token punctuation">)</span>
  <span class="token comment">// cannot use &quot;have.text&quot; because it requires</span>
  <span class="token comment">// and exact match, and the element has &quot;\n...\n&quot;</span>
  <span class="token comment">// .should('have.text', 'hello, there!')</span>
  <span class="token comment">// if you want to perform specific text transforms</span>
  <span class="token comment">// before checking it, do it inside a should(cb) function</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// yget and trim the text before comparing</span>
    <span class="token keyword">const</span> text <span class="token operator">=</span> $el<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">'hello, there!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// the &quot;include.text&quot; assertion only checks part of the text</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'include.text'</span><span class="token punctuation">,</span> <span class="token string">'hello, there!'</span><span class="token punctuation">)</span>

<span class="token comment">// cy.contains uses partial text match too</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#newlines-example'</span><span class="token punctuation">,</span> <span class="token string">'hello, there!'</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="html-entities"><a href="#html-entities" class="header-anchor">#</a> HTML entities</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>y-value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token entity" title="&amp;radic;">&amp;radic;</span>y<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><span id="y-value">y</span></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#y-value'</span><span class="token punctuation">)</span>
  <span class="token comment">// use the text value of the HTML entity</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.html'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span>
  <span class="token comment">// &quot;have.html&quot;, &quot;have.text&quot;, and &quot;contain&quot;</span>
  <span class="token comment">// assertions work the same with text</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span>
</code></pre></div><p>Unfortunately, there is no standard built-in JavaScript method for converting HTML entities like <code>&amp;radic;</code> into the browser text. Thus the test can encode it itself to use in the assertion.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// a utility for converting HTML entities into text</span>
<span class="token keyword">const</span> <span class="token function-variable function">encode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
  p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> s <span class="token comment">// encodes</span>
  <span class="token keyword">return</span> p<span class="token punctuation">.</span>innerText
<span class="token punctuation">}</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#y-value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">'&amp;radic;y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="visible-element-with-text"><a href="#visible-element-with-text" class="header-anchor">#</a> Visible element with text</h3> <p>Let's confirm that the page contains a visible element with some text.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>greeting<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello, there!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="greeting">Hello, there!</div></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// if we know the precise text we are looking for</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#greeting'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'Hello, there!'</span><span class="token punctuation">)</span>
<span class="token comment">// if we do not know the text</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#greeting'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.a'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'be.not.empty'</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="partial-text-match"><a href="#partial-text-match" class="header-anchor">#</a> Partial text match</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent-element<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  some text at the start
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>main content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  and some text afterwards
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="parent-element">
  some text at the start
  <span class="inner">main content</span>
  and some text afterwards
</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#parent-element'</span><span class="token punctuation">)</span>
  <span class="token comment">// we only know a part of the text somewhere</span>
  <span class="token comment">// inside the element</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'include.text'</span><span class="token punctuation">,</span> <span class="token string">'at the start'</span><span class="token punctuation">)</span>
  <span class="token comment">// &quot;include.text&quot; and &quot;contain&quot; are synonym assertions</span>
  <span class="token comment">// to find partial text match</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'some text afterwards'</span><span class="token punctuation">)</span>
  <span class="token comment">// the text inside the child element also counts</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'main content'</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#parent-element'</span><span class="token punctuation">)</span>
  <span class="token comment">// if we use cy.contains command</span>
  <span class="token comment">// we find the child &lt;span&gt; element</span>
  <span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.class'</span><span class="token punctuation">,</span> <span class="token string">'inner'</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="have-text-vs-contain"><a href="#have-text-vs-contain" class="header-anchor">#</a> have.text vs contain</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blurb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A quick brown fox jumped<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="blurb">A quick brown fox jumped</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#blurb'</span><span class="token punctuation">)</span>
  <span class="token comment">// assertions &quot;include.text&quot; and &quot;contain&quot;</span>
  <span class="token comment">// are equivalent and match the entire text</span>
  <span class="token comment">// or just part of the text</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'include.text'</span><span class="token punctuation">,</span> <span class="token string">'brown fox'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'brown fox'</span><span class="token punctuation">)</span>
  <span class="token comment">// can match the entire text</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'A quick brown fox jumped'</span><span class="token punctuation">)</span>
  <span class="token comment">// &quot;have.text&quot; requires the full text match</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'A quick brown fox jumped'</span><span class="token punctuation">)</span>
  <span class="token comment">// but &quot;have.text&quot; does not allow partial text match</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'not.have.text'</span><span class="token punctuation">,</span> <span class="token string">'brown fox'</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="text-matching-the-regular-expression"><a href="#text-matching-the-regular-expression" class="header-anchor">#</a> Text matching the regular expression</h3> <p>We can use regular expressions with &quot;match&quot; assertions to confirm part of the text.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>a-greeting<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello, there!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="a-greeting">Hello, there!</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#a-greeting'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/^Hello/</span><span class="token punctuation">)</span>
<span class="token comment">// tip: use cy.contains to find element with text</span>
<span class="token comment">// matching a regular expression</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#a-greeting'</span><span class="token punctuation">,</span> <span class="token regex">/^Hello/</span><span class="token punctuation">)</span>
<span class="token comment">// you can ignore the case and perform case-insensitive match</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#a-greeting'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/hello, there!/i</span><span class="token punctuation">)</span>
<span class="token comment">// a better version would use cy.contains command</span>
<span class="token comment">// to perform case-insensitive query</span>
<span class="token comment">// you can use either a regular expression</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#a-greeting'</span><span class="token punctuation">,</span> <span class="token regex">/hello, there!/i</span><span class="token punctuation">)</span>
<span class="token comment">// or use the contains option to ignore the case</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#a-greeting'</span><span class="token punctuation">,</span> <span class="token string">'hello, there!'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> matchCase<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="match-numbers-using-a-regular-expression"><a href="#match-numbers-using-a-regular-expression" class="header-anchor">#</a> Match numbers using a regular expression</h3> <p>Imagine we want to validate the date inside an element. The date should have the day number between 1 and 31.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>date-string<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Feb 14, 2022
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="date-string">
  Feb 14, 2022
</div></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// \b means the word boundary</span>
<span class="token comment">// (?&lt;day&gt;...) is a named capture group</span>
<span class="token comment">// \d{1,2}, is a one or two digit number followed by a comma</span>
<span class="token keyword">const</span> dayRegex <span class="token operator">=</span> <span class="token regex">/\b(?&lt;day&gt;\d{1,2}),/</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#date-string'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> dayRegex<span class="token punctuation">)</span>
  <span class="token comment">// extract the day number</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> dayRegex<span class="token punctuation">)</span>
  <span class="token comment">// grab the named group, convert to integer</span>
  <span class="token punctuation">.</span><span class="token function">its</span><span class="token punctuation">(</span><span class="token string">'groups.day'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>parseInt<span class="token punctuation">)</span>
  <span class="token comment">// and confirm its value</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.within'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span>
  <span class="token comment">// and in our case we know when Valentine's day is</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="converting-text"><a href="#converting-text" class="header-anchor">#</a> Converting text</h3> <p>Sometimes you need to extract the text and convert it into a number before running an assertion.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>num-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Messages <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>messages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="num-example">
  Messages <span class="messages">4</span></div></div></div><p>Without converting, the text from an element is a string</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// get the element and assert it has text &quot;4&quot;</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#num-example .messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span>
<span class="token comment">// equivalent command using cy.contains command</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#num-example .messages'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span>
</code></pre></div><p>If we want to compare the element's text like a number, we need to extract the text using jQuery <code>text</code> method, then parse it into an integer before the assertion.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#num-example .messages'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>parseInt<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
  <span class="token comment">// if you do not know the exact expected number</span>
  <span class="token comment">// use range assertions, like &quot;greater than&quot;, &quot;within&quot;</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'be.gt'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'be.within'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><p>You can also combine multiple steps into a single &quot;should&quot; callback for greater <a href="https://on.cypress.io/retry-ability" target="_blank" rel="noopener noreferrer">retry-ability<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// use command + single assertion callback</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#num-example .messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>$el<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">'number of messages'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'number'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>and<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">within</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="or-match-using-regular-expression"><a href="#or-match-using-regular-expression" class="header-anchor">#</a> OR match using regular expression</h3> <p>If you want to confirm the text matches one string or another, use a regular expression</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>or-match<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="or-match">Joe</div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#or-match'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/^(Joe|Mary)$/</span><span class="token punctuation">)</span>
<span class="token comment">// the same can be done using cy.contains command</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#or-match'</span><span class="token punctuation">,</span> <span class="token regex">/^(Joe|Mary)$/</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="text-should-not-present"><a href="#text-should-not-present" class="header-anchor">#</a> Text should not present</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-lines<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>some text at the start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>main content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>and some text afterwards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="text-lines"><span>some text at the start</span> <span class="inner">main content</span> <span>and some text afterwards</span></div></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#text-lines'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'include.text'</span><span class="token punctuation">,</span> <span class="token string">'main content'</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#text-lines .inner'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'not.include.text'</span><span class="token punctuation">,</span>
  <span class="token string">'some text'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token comment">// you can also use :contains and :not selectors</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#text-lines span:not(:contains(&quot;main content&quot;))'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'have.length'</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div> <h2 id="visibility-of-multiple-elements"><a href="#visibility-of-multiple-elements" class="header-anchor">#</a> Visibility of multiple elements</h2> <p>Only some elements should be visible for the assertion <code>should('be.visible')</code> to pass.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>few-elements<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>third<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><ul id="few-elements"><li>first</li> <li style="display:none;">second</li> <li>third</li></ul></div></div><p>The test passes, even if some elements are invisible.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#few-elements li'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">// while the second element is still invisible</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#few-elements li'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'not.be.visible'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token comment">// workarounds for visibility checks</span>
<span class="token comment">// 1. we can use jQuery selector :visible to get just the visible elements</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#few-elements li:visible'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// 2. we can filter visible elements using jQuery selector</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#few-elements li'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">':visible'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// 3. we can filter elements to get just the invisible elements</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#few-elements li'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token string">':visible'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">)</span>
</code></pre></div> <p>For more, see my video <a href="https://youtu.be/84NQf-HVWWE" target="_blank" rel="noopener noreferrer">Visibility Of Multiple Elements Explained<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="elements-becoming-invisible"><a href="#elements-becoming-invisible" class="header-anchor">#</a> Elements becoming invisible</h2> <p>Let's checks if a list of elements becomes invisible after some time.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>multiple-elements<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>third<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hide-multiple-elements<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hide items<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'hide-multiple-elements'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// we hide the elements after some unknown delay</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span>
        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          document
            <span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#multiple-elements li'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// elements disappear after 1 - 2 seconds</span>
        Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><ul id="multiple-elements"><li>first</li> <li>second</li> <li>third</li></ul> <button id="hide-multiple-elements">Hide items</button> <script>
  document
    .getElementById('hide-multiple-elements')
    .addEventListener('click', function () {
      // we hide the elements after some unknown delay
      setTimeout(
        function () {
          document
            .querySelectorAll('#multiple-elements li')
            .forEach(function (el) {
              el.style.display = 'none'
            })
        },
        // elements disappear after 1 - 2 seconds
        Math.random() * 1000 + 1000,
      )
    })
</script></div></div><p>At first, all elements are visible</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#multiple-elements li'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
</code></pre></div><p>The elements become invisible after clicking on the button</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#hide-multiple-elements'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#multiple-elements li'</span><span class="token punctuation">)</span>
  <span class="token comment">// the elements still exist in the DOM</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'exist'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token comment">// but should not be visible to the user</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'not.be.visible'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="placeholder-attribute"><a href="#placeholder-attribute" class="header-anchor">#</a> Placeholder attribute</h2> <p>Let's validate the input element's placeholder attribute.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputEmail<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Email<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="example"><input type="text" id="inputEmail" placeholder="Email" class="form-control"></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#inputEmail'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attr'</span><span class="token punctuation">,</span> <span class="token string">'placeholder'</span><span class="token punctuation">,</span> <span class="token string">'Email'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="disabled-elements"><a href="#disabled-elements" class="header-anchor">#</a> Disabled elements</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>example-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">disabled</span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="example"><input type="text" id="example-input" disabled="disabled"></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#example-input'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.disabled'</span><span class="token punctuation">)</span>
  <span class="token comment">// let's enable this element from the test</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'prop'</span><span class="token punctuation">,</span> <span class="token string">'disabled'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#example-input'</span><span class="token punctuation">)</span>
  <span class="token comment">// we can use &quot;enabled&quot; assertion</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.enabled'</span><span class="token punctuation">)</span>
  <span class="token comment">// or negate the &quot;disabled&quot; assertion</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'not.be.disabled'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="data-attributes"><a href="#data-attributes" class="header-anchor">#</a> Data attributes</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>data-attributes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-test-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-e2e</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>second<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-e2e</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>two<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>third<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><ul id="data-attributes"><li data-test-id="first">first</li> <li data-e2e="second">second</li> <li data-e2e="one" data-cy="two">third</li></ul></div></div><p>We can check if an element has a particular &quot;data-x&quot; attribute present, and its value using a &quot;have.data&quot; assertion.</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#data-attributes li'</span><span class="token punctuation">,</span> <span class="token string">'first'</span><span class="token punctuation">)</span>
  <span class="token comment">// &quot;data&quot; object converts names to camel case</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.data'</span><span class="token punctuation">,</span> <span class="token string">'testId'</span><span class="token punctuation">,</span> <span class="token string">'first'</span><span class="token punctuation">)</span>
  <span class="token comment">// the assertion yields the value of the data attribute</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token string">'first'</span><span class="token punctuation">)</span>

cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#data-attributes li'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">)</span>
  <span class="token comment">// first assertion confirms there is such &quot;data-x&quot; property</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.data'</span><span class="token punctuation">,</span> <span class="token string">'e2e'</span><span class="token punctuation">)</span>
  <span class="token comment">// and yields the value that we assert in the next assertion</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">)</span>

<span class="token comment">// multiple &quot;data-&quot; properties need multiple commands</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#data-attributes li'</span><span class="token punctuation">,</span> <span class="token string">'third'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'have.data'</span><span class="token punctuation">,</span>
  <span class="token string">'e2e'</span><span class="token punctuation">,</span>
  <span class="token string">'one'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#data-attributes li'</span><span class="token punctuation">,</span> <span class="token string">'third'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span>
  <span class="token string">'have.data'</span><span class="token punctuation">,</span>
  <span class="token string">'cy'</span><span class="token punctuation">,</span>
  <span class="token string">'two'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token comment">// or a single &quot;data()&quot; call to get an object of values</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'#data-attributes li'</span><span class="token punctuation">,</span> <span class="token string">'third'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'deep.equal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    e2e<span class="token operator">:</span> <span class="token string">'one'</span><span class="token punctuation">,</span>
    cy<span class="token operator">:</span> <span class="token string">'two'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <p><strong>Tip:</strong> you can simplify checking for &quot;data-&quot; attributes by adding your own custom Chai assertion, see the <a href="/cypress-examples/9.7.0/recipes/add-data-assertion.html">recipe</a>.</p> <h2 id="array-assertions"><a href="#array-assertions" class="header-anchor">#</a> Array assertions</h2> <h3 id="confirm-it-is-an-array"><a href="#confirm-it-is-an-array" class="header-anchor">#</a> Confirm it is an array</h3> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.an'</span><span class="token punctuation">,</span> <span class="token string">'array'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="confirm-array-has-a-given-value"><a href="#confirm-array-has-a-given-value" class="header-anchor">#</a> Confirm array has a given value</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">.</span>and<span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span>
</code></pre></div><p>Be careful if the array contains objects. By default, JavaScript checks the references, and not values.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'write code'</span><span class="token punctuation">,</span> completed<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token function">expect</span><span class="token punctuation">(</span>todos<span class="token punctuation">)</span>
  <span class="token comment">// the array includes the reference to the same object</span>
  <span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>todos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">// and does not compare by value</span>
  <span class="token punctuation">.</span>and<span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'write code'</span><span class="token punctuation">,</span> completed<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>If you want to compare objects by value, use the &quot;deep.include&quot; assertion.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span>todos<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">'write code'</span><span class="token punctuation">,</span>
  completed<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="confirm-items-in-an-array"><a href="#confirm-items-in-an-array" class="header-anchor">#</a> Confirm items in an array</h3> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.an'</span><span class="token punctuation">,</span> <span class="token string">'array'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>and<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">within</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <p>Watch the video <a href="https://youtu.be/O4ZBRoZCP-I" target="_blank" rel="noopener noreferrer">Validate Each Array Item<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="comparing-arrays"><a href="#comparing-arrays" class="header-anchor">#</a> Comparing arrays</h3> <p>Whenever you assert arrays and other objects, you probably mean to assert the values inside, and not the references. Thus you need to use the <code>deep.equal</code> assertion.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Apples'</span><span class="token punctuation">,</span> <span class="token string">'Bananas'</span><span class="token punctuation">,</span> <span class="token string">'Grapes'</span><span class="token punctuation">]</span>
<span class="token comment">// assert that cy.wrap yields the same array reference</span>
<span class="token comment">// as we passed into it</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span>
<span class="token comment">// if you have another array, even if the values are the same</span>
<span class="token comment">// the &quot;equal&quot; assertion compares just the reference</span>
<span class="token comment">// thus an array is &quot;not.equal&quot; to its copy</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.equal'</span><span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span>_<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// but it is &quot;deep.equal&quot; to another array if the values are the same</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'deep.equal'</span><span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span>_<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// assert the yielded array has the expected items inside</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'reverse'</span><span class="token punctuation">)</span>
  <span class="token comment">// because we are comparing arrays, we need to use &quot;deep.equal&quot; assertion</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'deep.equal'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Grapes'</span><span class="token punctuation">,</span> <span class="token string">'Bananas'</span><span class="token punctuation">,</span> <span class="token string">'Apples'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="objects"><a href="#objects" class="header-anchor">#</a> Objects</h2> <h3 id="checking-a-property"><a href="#checking-a-property" class="header-anchor">#</a> Checking a property</h3> <p>Check if an object has a property</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// check if the property is present, but do not check the value</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.property'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token comment">// check if the property is present and has a specific value</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.property'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">)</span>
<span class="token comment">// check if the value is a string and matches a regular expression</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.property'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token comment">// now we are working with the value from person.name</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.a'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/joe/i</span><span class="token punctuation">)</span>
</code></pre></div><p>Assertions <code>have.property</code> and <code>have.key</code> are similar.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// the assertion &quot;have.property&quot; yields the value</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.property'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">)</span>
<span class="token comment">// the assertion &quot;have.key&quot; yields the same object</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.key'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token comment">// we are still working with the object</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'deep.equal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Joe'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="multiple-properties-2"><a href="#multiple-properties-2" class="header-anchor">#</a> Multiple properties</h3> <p>If the object has multiple properties, use <code>have.keys</code> if you want to precisely assert them.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> address <span class="token operator">=</span> <span class="token punctuation">{</span>
  city<span class="token operator">:</span> <span class="token string">'Boston'</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token string">'MA'</span><span class="token punctuation">,</span>
  zip<span class="token operator">:</span> <span class="token string">'90210'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// you can specify keys as an array argument</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.keys'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'city'</span><span class="token punctuation">,</span> <span class="token string">'state'</span><span class="token punctuation">,</span> <span class="token string">'zip'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// or as separate arguments</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.keys'</span><span class="token punctuation">,</span> <span class="token string">'city'</span><span class="token punctuation">,</span> <span class="token string">'state'</span><span class="token punctuation">,</span> <span class="token string">'zip'</span><span class="token punctuation">)</span>
</code></pre></div><p>If you are only interested in some properties, use the <code>include.keys</code> assertion</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// the object has city and state keys (and possible others)</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'include.keys'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'city'</span><span class="token punctuation">,</span> <span class="token string">'state'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// can pass keys as separate arguments</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'include.keys'</span><span class="token punctuation">,</span> <span class="token string">'city'</span><span class="token punctuation">,</span> <span class="token string">'state'</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="partial-match"><a href="#partial-match" class="header-anchor">#</a> Partial match</h3> <p>If we want to check a part of the an object, we can use <code>deep.include</code> assertion.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> address <span class="token operator">=</span> <span class="token punctuation">{</span>
  city<span class="token operator">:</span> <span class="token string">'Boston'</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token string">'MA'</span><span class="token punctuation">,</span>
  zip<span class="token operator">:</span> <span class="token string">'90210'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'deep.include'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    city<span class="token operator">:</span> <span class="token string">'Boston'</span><span class="token punctuation">,</span>
    zip<span class="token operator">:</span> <span class="token string">'90210'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// continue working with the original object</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'deep.include'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token string">'MA'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="multiple-variants"><a href="#multiple-variants" class="header-anchor">#</a> Multiple variants</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token string">'good morning'</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.oneOf'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="has-a-method"><a href="#has-a-method" class="header-anchor">#</a> Has a method</h3> <p>You can check if a particular object has a method with a given name.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Hello'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token function">expect</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">respondTo</span><span class="token punctuation">(</span><span class="token string">'greeting'</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'respondTo'</span><span class="token punctuation">,</span> <span class="token string">'greeting'</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="approximate-value-using-closeto"><a href="#approximate-value-using-closeto" class="header-anchor">#</a> Approximate value using closeTo</h3> <p>One way to compare a floating point number is to round it using <code>Math.round</code> to the nearest integer.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// compare the given number to the closest integer</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">52.9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>round<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span>
</code></pre></div><p>Another way is to use the assertion <code>closeTo</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// using closeTo assertion</span>
<span class="token comment">// expected 32.7 to be close to 32 +/- 1</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">32.7</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">closeTo</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">52.9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.closeTo'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div> <p>This is especially useful when dealing with dimensions of elements on the page, since no real-world measurement is exact. It always slightly different between the browsers and operating systems.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>font-size-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This is my message<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><div id="font-size-example">This is my message</div> <style></style></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#font-size-example'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'css'</span><span class="token punctuation">,</span> <span class="token string">'fontSize'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>cy<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
  <span class="token comment">// the font size returned is in pixels, like &quot;16px&quot;</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> <span class="token regex">/^\d+px$/</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'replace'</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.closeTo'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div> <p>See <a href="https://www.chaijs.com/api/bdd/" target="_blank" rel="noopener noreferrer">Chai assertion library<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="adding-assertions"><a href="#adding-assertions" class="header-anchor">#</a> Adding assertions</h2> <h3 id="multiple-attributes"><a href="#multiple-attributes" class="header-anchor">#</a> Multiple attributes</h3> <p>The built-in Chai assertion <code>have.attr</code> only confirms a single attribute. What if we want to confirm multiple attributes? We could write it like this:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>about-page<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><a id="about-page" href="/about" target="_blank">About</a></div></div><div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'About'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// we do not care about ID attribute</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">,</span> <span class="token string">'/about'</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h3 id="custom-chai-assertion"><a href="#custom-chai-assertion" class="header-anchor">#</a> Custom Chai assertion</h3> <p>Alternatively, we can add a custom Chai assertion to our global <code>chai</code> object.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>about-page<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><a id="about-page" href="/about" target="_blank">About</a></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// add custom Chai assertion to confirm multiple attributes</span>
chai<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_chai<span class="token punctuation">,</span> utils</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// use &quot;function&quot; syntax to make sure when Chai</span>
  <span class="token comment">// calls it, the &quot;this&quot; object points at Chai</span>

  <span class="token keyword">function</span> <span class="token function">assertAttributes</span><span class="token punctuation">(</span><span class="token parameter">attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>attributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">attr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_obj<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span>
      <span class="token keyword">const</span> expectedValue <span class="token operator">=</span> attributes<span class="token punctuation">[</span>attr<span class="token punctuation">]</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>
        value <span class="token operator">===</span> expectedValue<span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">expected to find attribute **</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>attr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expectedValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">**, found **</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">**</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  _chai<span class="token punctuation">.</span>Assertion<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">'attributes'</span><span class="token punctuation">,</span> assertAttributes<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// now let's use our custom Chai assertion</span>
<span class="token comment">// to confirm multiple element attributes at once</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'About'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.attributes'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  href<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token string">'_blank'</span><span class="token punctuation">,</span>
  <span class="token comment">// but we do not care about &quot;id&quot; attribute</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="check-against-undefined"><a href="#check-against-undefined" class="header-anchor">#</a> Check against undefined</h2> <p>Checking against an <code>undefined</code> value:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'undefined value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span>undefined
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'undefined is not null'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>not<span class="token punctuation">.</span>be<span class="token punctuation">.</span>null
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'null value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>not<span class="token punctuation">.</span>be<span class="token punctuation">.</span>undefined
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'null is null'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span>null
</code></pre></div><p>You can also compare the values using <code>to.equal</code> assertion</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'undefined equals undefined'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>
  <span class="token keyword">undefined</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'undefined does not equal null'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'null equals null'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre></div><p>Similarly, the wrapped undefined value can be confirmed using BDD assertions</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'wrapped undefined'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.undefined'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'not.be.null'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'not.equal'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">'wrapped number'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.be.undefined'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'not.be.null'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'be.a'</span><span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">)</span>
</code></pre></div> <h2 id="assertion-message"><a href="#assertion-message" class="header-anchor">#</a> Assertion message</h2> <p>See how to avoid <a href="/cypress-examples/9.7.0/recipes/see-more-in-assertions.html">message truncation</a></p> <h2 id="use-the-strongest-assertion"><a href="#use-the-strongest-assertion" class="header-anchor">#</a> Use the strongest assertion</h2> <p>You can validate the data shown or used by the web application in many ways. I would advise to pick the strongest assertion possible to catch any unexpected changes that might happen.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>Phone: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>(123) 456-7890<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="example"><strong>Phone: </strong> <span class="phone">(123) 456-7890</span></div></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// the weakest assertion</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.phone'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.a'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span>
<span class="token comment">// a much stronger assertion</span>
<span class="token keyword">const</span> phoneFormat <span class="token operator">=</span> <span class="token regex">/^\(\d{3}\) \d{3}-\d{4}$/</span>
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'.phone'</span><span class="token punctuation">,</span> phoneFormat<span class="token punctuation">)</span>
<span class="token comment">// the strongest is to confirm the exact value</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.phone'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.text'</span><span class="token punctuation">,</span> <span class="token string">'(123) 456-7890'</span><span class="token punctuation">)</span>
</code></pre></div><p>Watch the video <a href="https://youtu.be/HkXx79JE2nU" target="_blank" rel="noopener noreferrer">Use Stronger Assertions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/bahmutov/cypress-examples/edit/master/docs/commands/assertions.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/cypress-examples/9.7.0/assets/js/app.955a04ec.js" defer></script><script src="/cypress-examples/9.7.0/assets/js/3.be46aa5a.js" defer></script><script src="/cypress-examples/9.7.0/assets/js/16.9830c270.js" defer></script>
  </body>
</html>
